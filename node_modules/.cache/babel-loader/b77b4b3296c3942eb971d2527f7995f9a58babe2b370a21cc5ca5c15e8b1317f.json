{"ast":null,"code":"import { configureStore, combineReducers } from \"@reduxjs/toolkit\";\nimport userReducer from \"../reducers/userReducer\";\nimport loginReducer, { LOGIN_SUCCESS, LOGOUT } from \"../reducers/login.reducer\";\nconst rootReducer = combineReducers({\n  login: loginReducer,\n  user: userReducer\n});\nconst store = configureStore({\n  reducer: rootReducer,\n  devTools: true\n});\n\n// Middleware pour écouter les actions de connexion réussie et stocker le token dans localStorage\nstore.subscribe(() => {\n  const {\n    login\n  } = store.getState();\n  const {\n    token\n  } = login;\n  if (token) {\n    localStorage.setItem(\"token\", token);\n  }\n});\n\n// Middleware pour écouter l'action de déconnexion et supprimer le token de localStorage\nstore.subscribe(() => {\n  const {\n    login\n  } = store.getState();\n  const {\n    token\n  } = login;\n  if (!token) {\n    localStorage.removeItem(\"token\");\n  }\n});\nexport default store;","map":{"version":3,"names":["configureStore","combineReducers","userReducer","loginReducer","LOGIN_SUCCESS","LOGOUT","rootReducer","login","user","store","reducer","devTools","subscribe","getState","token","localStorage","setItem","removeItem"],"sources":["/Users/rineralexandre/Desktop/ArgentBankLloyd/frontend/src/redux/Store/index.js"],"sourcesContent":["import { configureStore, combineReducers } from \"@reduxjs/toolkit\";\nimport userReducer from \"../reducers/userReducer\";\nimport loginReducer, { LOGIN_SUCCESS, LOGOUT } from \"../reducers/login.reducer\";\n\nconst rootReducer = combineReducers({\n  login: loginReducer,\n  user: userReducer\n});\n\nconst store = configureStore({\n  reducer: rootReducer,\n  devTools: true\n});\n\n// Middleware pour écouter les actions de connexion réussie et stocker le token dans localStorage\nstore.subscribe(() => {\n  const { login } = store.getState();\n  const { token } = login;\n  if (token) {\n    localStorage.setItem(\"token\", token);\n  }\n});\n\n// Middleware pour écouter l'action de déconnexion et supprimer le token de localStorage\nstore.subscribe(() => {\n  const { login } = store.getState();\n  const { token } = login;\n  if (!token) {\n    localStorage.removeItem(\"token\");\n  }\n});\n\nexport default store;\n"],"mappings":"AAAA,SAASA,cAAc,EAAEC,eAAe,QAAQ,kBAAkB;AAClE,OAAOC,WAAW,MAAM,yBAAyB;AACjD,OAAOC,YAAY,IAAIC,aAAa,EAAEC,MAAM,QAAQ,2BAA2B;AAE/E,MAAMC,WAAW,GAAGL,eAAe,CAAC;EAClCM,KAAK,EAAEJ,YAAY;EACnBK,IAAI,EAAEN;AACR,CAAC,CAAC;AAEF,MAAMO,KAAK,GAAGT,cAAc,CAAC;EAC3BU,OAAO,EAAEJ,WAAW;EACpBK,QAAQ,EAAE;AACZ,CAAC,CAAC;;AAEF;AACAF,KAAK,CAACG,SAAS,CAAC,MAAM;EACpB,MAAM;IAAEL;EAAM,CAAC,GAAGE,KAAK,CAACI,QAAQ,CAAC,CAAC;EAClC,MAAM;IAAEC;EAAM,CAAC,GAAGP,KAAK;EACvB,IAAIO,KAAK,EAAE;IACTC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEF,KAAK,CAAC;EACtC;AACF,CAAC,CAAC;;AAEF;AACAL,KAAK,CAACG,SAAS,CAAC,MAAM;EACpB,MAAM;IAAEL;EAAM,CAAC,GAAGE,KAAK,CAACI,QAAQ,CAAC,CAAC;EAClC,MAAM;IAAEC;EAAM,CAAC,GAAGP,KAAK;EACvB,IAAI,CAACO,KAAK,EAAE;IACVC,YAAY,CAACE,UAAU,CAAC,OAAO,CAAC;EAClC;AACF,CAAC,CAAC;AAEF,eAAeR,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}